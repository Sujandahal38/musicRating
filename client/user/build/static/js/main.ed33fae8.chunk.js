(this.webpackJsonpuser=this.webpackJsonpuser||[]).push([[0],{274:function(e,t,a){e.exports=a(353)},279:function(e,t,a){},280:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),i=a.n(o),s=(a(279),a(280),a(32)),l=a(261),c=a(26),u=a(20),d=a(385),m=a(149),g=a(243),p=a(376),E=a(380),v=a(364),f=a(383),h=a(384),b=a(14),O=a(118),y=a(33),C=a.n(y),N="http://3.80.128.30:5500",j=function(e,t){return function(a){a(function(e,t){return{type:"SNACKBAR",message:e,status:t}}(e,t))}},w=function(){return function(e){e({type:"FETCH_USER_REQ"});var t=localStorage.getItem("token");C.a.defaults.headers.common.Authorization=t,C.a.get("".concat(N,"/userData")).then((function(t){var a,n;console.log(t),e((a=t.data.userData,n=t.status,{type:"FETCH_USER_SUCCESS",data:a,status:n}))})).catch((function(t){var a,n;e((a=t.response.data.message,n=t.response.status,{type:"FETCH_USER_FAILED",message:a,status:n}))}))}},S=function(e,t){return{type:"VERIFICATION_SUCCESS",message:e,status:t}},_=function(e){return function(t){var a,n;t({type:"CHECK_USERNAME_REQ",message:a,status:n}),C.a.post("".concat(N,"/checkusername"),{username:e}).then((function(e){t(function(e,t){return{type:"CHECK_USERNAME_SUCCESS",message:e,status:t}}(e.data.message,e.status)),t(j(e.data.message,e.status))})).catch((function(e){var a;(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)&&t(j(e.response.data.message,e.response.status))}))}},I=function(e,t){return function(a){a({type:"COMMENT_REQ"}),C.a.post("".concat(N,"/addComment"),{id:e,comment:t}).then((function(t){var n,r;a((n=t.data.message,r=t.status,{type:"COMMENT_SUCCESS",message:n,status:r})),a(x(e))})).catch((function(t){var n,r;a(x(e)),t&&t.response&&a((n=t.response.data.message,r=t.response.status,{type:"COMMENT_FAILED",message:n,status:r}))}))}},x=function(e){return function(t){t({type:"FETCH_COMMENT_REQ"}),C.a.get("".concat(N,"/videobyid/").concat(e)).then((function(e){var a;t((a=e.data.videoData.mvdbComments.reverse(),{type:"FETCH_COMMENT_SUC",message:e.data.message,comments:a}))})).catch((function(e){var a;(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)&&t({type:"FETCH_COMMENT_FAILED",message:e.response.data.message})}))}},T=a(76),F=Object(g.a)((function(e){return{input:{marginTop:e.spacing(4)},loginButton:{marginRight:e.spacing(3),marginTop:e.spacing(2.3)},forgotPassword:{textDecoration:"none",color:"#ffffff"},forgotText:{paddingTop:e.spacing(2),paddingLeft:e.spacing(.2)},divider:{marginTop:e.spacing(2),height:e.spacing(1),backgroundColor:"white"}}})),D=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.auth})),a=F(),n=Object(O.a)(),o=n.register,i=n.errors,l=n.handleSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:a.root,onSubmit:l((function(t){e(function(e){return function(t){t({type:"LOGIN_REQUEST"}),C.a.post("".concat(N,"/login"),e).then((function(e){t(function(e,t,a){return{type:"LOGIN_SUCCESS",payload:e,message:t,status:a}}(e.data.userData,e.data.message,e.status)),t(j(e.data.message,e.status));var a="bearer ".concat(e.data.token);localStorage.setItem("token",a),t(w())})).catch((function(e){var a,n;t((a=e.response.data.message,n=e.response.status,{type:"LOGIN_FAILED",payload:a,status:n})),t(j(e.response.data.message,e.response.status))}))}}(t))}))},r.a.createElement(p.a,null,r.a.createElement(E.a,{className:a.input,label:"Username",variant:"outlined",name:"usernameOrEmail",type:"text",fullWidth:!0,inputRef:o({required:!0}),error:!!i.usernameOrEmail,helperText:i.usernameOrEmail?"*username or Email is required.":null})),r.a.createElement(p.a,null,r.a.createElement(E.a,{className:a.input,label:"Password",variant:"outlined",name:"password",fullWidth:!0,type:"password",error:!!i.password,inputRef:o({required:!0}),helperText:i.password?"*Password is required.":null})),r.a.createElement(s.b,{to:"/reset",className:a.forgotPassword},r.a.createElement(v.a,{className:a.forgotText,variant:"body2"},"Forgot password?")),r.a.createElement(p.a,null,r.a.createElement(f.a,{name:"login",fullWidth:!0,className:a.loginButton,variant:"contained",color:"secondary",type:"submit",disabled:null===t||void 0===t?void 0:t.loading},(null===t||void 0===t?void 0:t.loading)?r.a.createElement(T.ScaleLoader,{color:"white",height:20}):"Login"))),r.a.createElement(h.a,{className:a.divider}),r.a.createElement(s.b,{to:"/signup",style:{textDecoration:"none"}},r.a.createElement(f.a,{name:"createAccount",fullWidth:!0,className:a.loginButton,variant:"contained",color:"secondary"},"Create New Account")))},L=Object(g.a)((function(e){return{root:Object(u.a)({width:"35%"},e.breakpoints.down("sm"),{width:"100%"}),content:{height:"80vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}})),k=function(){document.title="Login";var e=L(),t=Object(c.g)(),a=Object(b.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){a.isLoggedIn&&t.push("/")}),[]),a.isLoggedIn&&t.goBack(),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",null,r.a.createElement(d.a,null,r.a.createElement("div",{className:e.content},r.a.createElement(m.a,{className:e.root},r.a.createElement(D,null))))))},R=a(23),U=a.n(R),A=a(11),H=a(44),M=a(31),B=a(252),P=function(e){var t,a,n,o,i,s,l,c,u,d,m,g,p=e.step,v=e.errors,f=e.register,h=e.getValues,O=e.setError,y=e.clearErrors,C=e.setData,N=e.data,j=Object(b.b)(),w=Object(B.debounce)(Object(H.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(["username"]);case 2:if(t=e.sent,!((a=t.username).length<3)){e.next=7;break}return e.next=7,O("username",{type:"usernameLength",message:"Username must be above 3 characters"});case 7:if(!(a.length>3)){e.next=12;break}return e.next=10,y(["username"]);case 10:C(Object(A.a)(Object(A.a)({},N),{},{username:a})),j(_(a));case 12:case"end":return e.stop()}}),e)}))),500);return console.log(p),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,0===p&&r.a.createElement("div",null,r.a.createElement(E.a,{defaultValue:null===N||void 0===N?void 0:N.fullName,variant:"outlined",fullWidth:!0,error:!!v.fullName,helperText:("required"===(null===v||void 0===v||null===(t=v.fullName)||void 0===t?void 0:t.type)?"*FullName is required.":"pattern"===(null===v||void 0===v||null===(a=v.fullName)||void 0===a?void 0:a.type)&&"*Name is invalid.")||"length"===(null===v||void 0===v||null===(n=v.fullName)||void 0===n?void 0:n.type)&&"*Name should contain below 31 characters.",name:"fullName",label:"Full Name",inputRef:f({required:!0,pattern:/^[A-Z a-z]+$/i}),margin:"normal"}),r.a.createElement(E.a,{variant:"outlined",defaultValue:null===N||void 0===N?void 0:N.email,fullWidth:!0,name:"email",label:"Email",error:!!v.email,helperText:"required"===(null===v||void 0===v||null===(o=v.email)||void 0===o?void 0:o.type)&&"*Email is required.",inputRef:f({required:!0}),margin:"normal"})),1===p&&r.a.createElement("div",null,r.a.createElement(E.a,{fullWidth:!0,name:"password",variant:"outlined",label:"Password",type:"password",inputRef:f({required:!0,pattern:/^[A-Za-z]\w{7,25}$/}),margin:"normal",error:!!v.password,helperText:("required"===(null===v||void 0===v||null===(i=v.password)||void 0===i?void 0:i.type)?"*Password is required.":"match"===(null===v||void 0===v||null===(s=v.password)||void 0===s?void 0:s.type)&&(null===v||void 0===v||null===(l=v.password)||void 0===l?void 0:l.message))||"pattern"===(null===v||void 0===v||null===(c=v.password)||void 0===c?void 0:c.type)&&"*Password is invalid, should be between 8 & 25 characters."}),r.a.createElement(E.a,{fullWidth:!0,name:"rePassword",variant:"outlined",label:"Re-Password",type:"password",error:!!v.rePassword,helperText:"required"===(null===v||void 0===v||null===(u=v.rePassword)||void 0===u?void 0:u.type)?"*Password is required.":"match"===(null===v||void 0===v||null===(d=v.rePassword)||void 0===d?void 0:d.type)&&(null===v||void 0===v||null===(m=v.rePassword)||void 0===m?void 0:m.message),inputRef:f({required:!0}),margin:"normal"})),2===p&&r.a.createElement("div",null,r.a.createElement(E.a,{defaultValue:null===N||void 0===N?void 0:N.username,variant:"outlined",name:"username",type:"text",fullWidth:!0,error:!!v.username,label:"Username",onChange:w,color:"secondary",margin:"normal",inputRef:f({required:!0}),helperText:v.username?null===v||void 0===v||null===(g=v.username)||void 0===g?void 0:g.message:null}))))},V=Object(g.a)((function(e){return{root:{width:"100%",height:"80vh",justifyContent:"center",display:"flex",alignItems:"center"},form:Object(u.a)({width:"35%"},e.breakpoints.down("md"),{width:"100%"}),backButton:{marginBottom:e.spacing(1),marginTop:e.spacing(1)},divider:{marginTop:e.spacing(2),height:e.spacing(1),backgroundColor:"white"},loginButton:{marginTop:e.spacing(2)}}})),W=function(){document.title="Signup";var e=Object(c.g)(),t=Object(b.c)((function(e){return e.auth})),a=Object(b.c)((function(e){return e.signup}));Object(n.useEffect)((function(){t.isLoggedIn&&e.push("/")}),[]),"User created Successfully \ud83d\ude4c"===(null===a||void 0===a?void 0:a.message)&&e.push("/login");var o=Object(b.b)(),i=Object(n.useState)({fullName:"",password:"",email:"",username:""}),l=Object(M.a)(i,2),u=l[0],g=l[1],p=V(),E=Object(n.useState)(0),v=Object(M.a)(E,2),y=v[0],w=v[1],S=Object(O.a)(),_=S.register,I=S.errors,x=S.trigger,F=S.getValues,D=S.setError,L=S.clearErrors,k=function(){var e=Object(H.a)(U.a.mark((function e(t){var a,n,r,o,i,s,l,c;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==y){e.next=12;break}return e.next=4,x(["fullName","email"]);case 4:if(!e.sent){e.next=12;break}return e.next=7,F(["fullName","email"]);case 7:a=e.sent,n=a.fullName,r=a.email,g(Object(A.a)(Object(A.a)({},u),{},{fullName:n,email:r})),w(y+1);case 12:if(1!==y){e.next=36;break}return e.next=15,x(["password","rePassword"]);case 15:if(!e.sent){e.next=36;break}return e.next=19,F(["password","rePassword"]);case 19:if(o=e.sent,i=o.password,s=o.rePassword,!(i.length>0)){e.next=36;break}if(i!==s){e.next=32;break}return e.next=26,F(["password"]);case 26:l=e.sent,c=l.password,g(Object(A.a)(Object(A.a)({},u),{},{password:c})),w(y+1),e.next=36;break;case 32:return e.next=34,D("password",{type:"match",message:"*Passwords do not match."});case 34:return e.next=36,D("rePassword",{type:"match",message:"*Passwords do not match."});case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(m.a,{className:p.root},r.a.createElement(m.a,{className:p.form},r.a.createElement("form",{onSubmit:a.isValidUsername?function(e){e.preventDefault(),o(function(e){return function(t){t({type:"SIGNUP_REQ"}),C.a.post("".concat(N,"/signup"),e).then((function(e){var a,n;t((a=e.data.message,n=e.status,{type:"SIGNUP_SUCCESS",message:a,status:n})),t(j(e.data.message,e.status))})).catch((function(e){var a,n;t((a=e.response.data.message,n=e.response.status,{type:"SIGNUP_FAILED",message:a,status:n})),t(j(e.response.data.message,e.response.status))}))}}(u))}:null},r.a.createElement(P,{setError:D,getValues:F,register:_,errors:I,step:y,clearErrors:L,setData:g,data:u}),y>0?r.a.createElement(f.a,{className:p.backButton,fullWidth:!0,color:"secondary",onClick:function(){w(y-1)},variant:"contained"},"Back"):null,2===y?r.a.createElement(f.a,{fullWidth:!0,color:"secondary",type:"submit",variant:"contained",disabled:t.loading},(null===a||void 0===a?void 0:a.loading)?r.a.createElement(T.ScaleLoader,{height:20,color:"white"}):"Signup"):r.a.createElement(f.a,{fullWidth:!0,color:"secondary",onClick:k,variant:"contained"},"Next")),r.a.createElement(h.a,{className:p.divider}),r.a.createElement(s.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement(f.a,{className:p.loginButton,fullWidth:!0,color:"secondary",variant:"contained"},"Login"))))))},Q=a(386),z=a(387),q=a(388),G=a(150),K=a(263),Y=a(389),J=a(404),Z=a(251),$=a(391),X=a(390),ee=function(e,t){var a=function(a){e.current&&!e.current.contains(a.target)&&t()};Object(n.useEffect)((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))};function te(){var e=Object(n.useState)(null),t=Object(M.a)(e,2),a=t[0],o=t[1],i=Object(b.b)(),l=Object(n.useState)(!0),c=Object(M.a)(l,2),u=(c[0],c[1]),d=Object(n.useState)(!1),m=(Object(M.a)(d,1)[0],Object(b.c)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.userData[0]}))),g=Object(b.c)((function(e){return e.auth})),p=function(){o(null)},E=ae(),h=Object(n.useRef)();ee(h,(function(){return u(!1)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{color:"secondary"},r.a.createElement(z.a,null,r.a.createElement(q.a,{className:E.menuButton,"aria-label":"upload picture",component:"span"}),r.a.createElement(s.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(v.a,{variant:"h5",className:E.titleText},"MVDB")),r.a.createElement("div",null,r.a.createElement(G.a,{className:E.FormControl},r.a.createElement(K.a,{className:E.Input,type:"text",disableUnderline:!0,style:{color:"white"},placeholder:"Search Music",id:"search music videos",startAdornment:r.a.createElement(Y.a,{position:"start"},r.a.createElement(X.a,null))}))),g.isLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:E.fullName,variant:"h6"},null===m||void 0===m?void 0:m.username),r.a.createElement(q.a,{onClick:function(e){o(e.currentTarget)}},r.a.createElement(J.a,null)),r.a.createElement(Z.a,{className:E.menu,id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:p},r.a.createElement($.a,{onClick:p},"Profile"),r.a.createElement($.a,{onClick:function(){i((function(e){e({type:"LOGOUT"}),localStorage.removeItem("token")})),o(null)}},"Logout"))):r.a.createElement("div",null,r.a.createElement(s.b,{to:"/login",style:{textDecoration:"none"}},r.a.createElement(f.a,{variant:"contained",color:"secondary"},"Login")),r.a.createElement(s.b,{to:"/signup",style:{textDecoration:"none"}},r.a.createElement(f.a,{variant:"contained",color:"secondary"},"Signup"))))))}var ae=Object(g.a)((function(e){var t,a;return{root:{backgroundColor:"#c52aef",width:"100vw",flexGrow:1},menuButton:{color:"white"},titleText:(t={marginLeft:e.spacing(2),marginRight:e.spacing(2),display:"none"},Object(u.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(u.a)(t,"flexGrow",1),t),FormControl:(a={},Object(u.a)(a,e.breakpoints.down("md"),{width:"100%"}),Object(u.a)(a,"width",e.spacing(92)),Object(u.a)(a,"marginRight",e.spacing(25)),Object(u.a)(a,"color","white"),Object(u.a)(a,"backgroundColor","rgba(94, 91, 90, 0.36)"),Object(u.a)(a,"borderRadius","5px"),a),Input:{marginLeft:e.spacing(2)},fullName:{marginRight:e.spacing(1)},searchData:{position:"absolute",width:e.spacing(92),marginTop:e.spacing(1)},searchDataClicked:{position:"absolute",width:e.spacing(92),marginTop:e.spacing(1),display:"none"},menu:{marginTop:e.spacing(6)}}})),ne=a(253),re=a.n(ne),oe=a(393),ie=a(395),se=a(406),le=Object(g.a)((function(e){return{card:{width:"100%",height:"inherit",position:"relative"},media:{height:e.spacing(55)},title:{position:"absolute",paddingLeft:e.spacing(6),fontFamily:"Roboto",top:0},description:{position:"absolute",paddingLeft:e.spacing(6),fontFamily:"Roboto",bottom:2,width:"100%",display:"flex",alignContent:"center"}}})),ce=function(e){var t=e.info,a=le();return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{className:a.card},r.a.createElement(ie.a,{className:a.media,image:t.thumbnail}),r.a.createElement("h1",{className:a.title},t.title),r.a.createElement(z.a,{className:a.description},r.a.createElement(se.a,{size:"large",readOnly:!0,value:t.ratings}))))},ue=a(119),de=a(362),me=a(397),ge=a(365),pe=a(394),Ee=Object(g.a)((function(e){return{root:{marginLeft:e.spacing(3.6),marginTop:e.spacing(3),width:"30%",display:"flex",flexDirection:"column"},subHeader:{color:"white",textAlign:"center",fontSize:e.spacing(2.2)},card:{height:120,width:"100%",display:"flex",flexDirection:"row",marginTop:e.spacing(2)},imgCover:{width:151},details:{width:"100%",display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},listItem:{display:"flex",flexDirection:"column"},title:{fontSize:e.spacing(1.6)}}})),ve=function(e){var t=e.genre,a=e.list,n=Ee();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{color:"secondary",elevation:3,className:n.root},r.a.createElement(de.a,{component:"nav",subheader:r.a.createElement(me.a,{className:n.subHeader,component:"div"},t)},r.a.createElement(ge.a,{className:n.listItem},a.map((function(e,t){var a;return r.a.createElement(s.b,{style:{textDecoration:"none"},key:e._id,to:"/video/".concat(e._id)},r.a.createElement(oe.a,{elevation:3,className:n.card},r.a.createElement(ie.a,{image:e.thumbnail,className:n.imgCover}),r.a.createElement("div",{className:n.details},r.a.createElement(pe.a,{className:n.content},r.a.createElement(v.a,{className:n.title,component:"p"},e.title),r.a.createElement(v.a,{className:n.title,component:"p"},e.artist),r.a.createElement("div",null,(null===e||void 0===e?void 0:e.ratings)&&r.a.createElement(v.a,{className:n.title,component:"p"},"Rating: ",null===e||void 0===e||null===(a=e.ratings)||void 0===a?void 0:a.toFixed(1),"/5")),r.a.createElement(se.a,{readOnly:!0,size:"small",value:e.ratings})))))})))),r.a.createElement(s.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(z.a,null,r.a.createElement(f.a,{style:{color:"white",bottom:0},fullWidth:!0,variant:"text",color:"secondary"},"See more")))))},fe=Object(g.a)((function(e){return{slider:{marginTop:e.spacing(11),width:"100%",height:e.spacing(60)},topList:{width:"100%",display:"flex",flexWrap:"wrap"},list:{marginLeft:e.spacing(2)}}})),he=function(){var e,t,a;document.title="Music video Database";var o=fe(),i=Object(b.c)((function(e){return e.video})),s=Object(b.b)();return Object(n.useEffect)((function(){var e;s((function(e){e({type:"FETCH_VIDEO_REQ"}),C.a.get("".concat(N,"/videos/6")).then((function(t){e({type:"FETCH_VIDEO_SUCCESS",videos:t.data.videos})})).catch((function(t){var a,n,r;(null===t||void 0===t||null===(a=t.response)||void 0===a?void 0:a.data)&&e((n=t.response.data.message,r=t.response.status,{type:"FETCH_VIDEO_FAILED",message:n,status:r}))}))})),s((e=5,function(t){t({type:"FETCH_NEW_REQ"}),C.a.get("".concat(N,"/fetchvideo/").concat(e)).then((function(e){var a;t((a=e.data.videoData,{type:"FETCH_NEW_SUC",message:e.data.message,videos:a}))})).catch((function(e){var a;(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)&&t({type:"FETCH_NEW_FAILED",message:e.response.data.message})}))}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement("section",null,r.a.createElement("div",{className:o.slider},(null===i||void 0===i||null===(e=i.latestVideo)||void 0===e?void 0:e.length)>0&&r.a.createElement(re.a,{interval:2e3,timeout:1200,className:o.slider,animation:"fade"},null===i||void 0===i?void 0:i.latestVideo.map((function(e,t){return r.a.createElement(ce,{key:e._id,info:e})}))))),r.a.createElement("section",null,r.a.createElement("div",{className:o.topList},(null===i||void 0===i||null===(t=i.videoData)||void 0===t?void 0:t.length)>0&&(null===i||void 0===i||null===(a=i.videoData)||void 0===a?void 0:a.map((function(e,t){return r.a.createElement(ve,{className:o.list,key:t,genre:e.genre,list:e.info})}))))),r.a.createElement("section",null)))},be=a(398),Oe=a(399),ye=a(400),Ce=a(401),Ne=a(403),je=a(396),we=Object(g.a)((function(e){return{root:{marginTop:e.spacing(-1)}}})),Se=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.snackbar})),a=t.snackbarMessage,n=t.snackbarOpen,o=t.status,i=we();function s(){e((function(e){e({type:"SNACKBAR_CLEAR"})}))}return r.a.createElement(be.a,{className:i.root,anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:s,autoHideDuration:4e3},r.a.createElement(je.a,{direction:"down",in:n},r.a.createElement(Ne.a,{elevation:5,icon:100<=o&&o<=199&&r.a.createElement(Oe.a,{fontSize:"inherit"})||200<=o&&o<=299&&r.a.createElement(ye.a,{fontSize:"inherit"})||400<=o&&o<=499&&r.a.createElement(Ce.a,{fontSize:"inherit"}),onClose:s,severity:function(e){return 100<=e&&e<=199?"info":200<=e&&e<=299?"success":400<=e&&e<=499?"warning":500<=e&&e<=599?"danger":void 0}(o),variant:"filled"},a)))},_e=a(255),Ie=function(e){var t=e.video;document.title=t.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{opts:{height:"450",width:"100%"},videoId:t.embedCode}))},xe=a(258),Te=a.n(xe),Fe=a(402),De=a(246),Le=Object(g.a)((function(e){return{root:{display:"flex",flexDirection:"row",marginTop:e.spacing(1)},orange:{color:e.palette.getContrastText(De.a[500]),backgroundColor:De.a[500]},textField:{marginLeft:e.spacing(1),paddingBottom:e.spacing(.5)},buttonHolder:{marginTop:e.spacing(1),display:"flex",justifyContent:"flex-end"},loader:{width:"100%",display:"flex",justifyContent:"center"}}})),ke=function(e){e.title;var t=e.id,a=Le(),o=Object(n.useState)(""),i=Object(M.a)(o,2),s=i[0],l=i[1],c=Object(b.c)((function(e){return e.user.userData})),u=Object(b.b)(),d=Object(b.c)((function(e){return e.comment})),m=Object(b.c)((function(e){return e.auth})),g=function(e){"enter"===e.key&&s.length>0&&m.isLoggedIn&&u(I(t,s))};return Object(n.useEffect)((function(){return document.addEventListener("keypress",g),function(){document.removeEventListener("keypress",g)}}),[]),r.a.createElement(r.a.Fragment,null,d.loading?r.a.createElement("div",{className:a.loader},r.a.createElement(T.ClipLoader,{color:"white"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s.length>0&&m.isLoggedIn&&u(I(t,s))}},r.a.createElement("div",{className:a.root},c.length>0?r.a.createElement(J.a,{size:30,className:a.orange},c[0].fullName):r.a.createElement(Fe.a,{variant:"circle"}),r.a.createElement(E.a,{className:a.textField,fullWidth:!0,autoFocus:!0,id:"comment",name:"comment",label:"Add new comment",variant:"standard",color:"primary",onChange:function(e){l(e.target.value)}})),r.a.createElement("div",{className:a.buttonHolder},r.a.createElement(f.a,{disabled:!(s.length>0),type:"submit",variant:"contained"},"Comment")))))},Re=a(245),Ue=Object(g.a)((function(e){return{root:{marginTop:e.spacing(3.5),width:"100%",height:"auto",display:"flex",flexDirection:"column"},commentHolder:{display:"flex",flexDirection:"row",marginTop:e.spacing(2)},orange:{color:e.palette.getContrastText(Re.a[500]),backgroundColor:Re.a[500]},userName:{paddingLeft:e.spacing(2),color:"white",fontSize:e.spacing(2)},commentText:{paddingLeft:e.spacing(2),color:"white",fontSize:e.spacing(1.5)},userNameComment:{display:"flex",flexDirection:"column"}}})),Ae=function(e){var t,a=e.id,o=Ue(),i=Object(b.b)(),s=Object(b.c)((function(e){return e.comment}));return Object(n.useEffect)((function(){i(x(a))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.root},(null===s||void 0===s?void 0:s.fetching)?r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,null),r.a.createElement(Fe.a,null),r.a.createElement(Fe.a,null),r.a.createElement(Fe.a,null),r.a.createElement(Fe.a,null),r.a.createElement(Fe.a,null),r.a.createElement(Fe.a,null)):r.a.createElement(r.a.Fragment,null,(null===s||void 0===s||null===(t=s.comments)||void 0===t?void 0:t.length)>0?null===s||void 0===s?void 0:s.comments.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.commentHolder},r.a.createElement(J.a,{size:25,className:o.orange},e.commentedBy),r.a.createElement("div",{className:o.userNameComment},r.a.createElement(v.a,{className:o.userName,variant:"h6"},e.commentedBy),r.a.createElement(v.a,{className:o.commentText,variant:"h6"},e.comment))))})):r.a.createElement(v.a,{className:o.commentText,variant:"h6"},"No comments."))))},He=Object(g.a)((function(e){return{root:{width:"100%",height:"auto",marginTop:e.spacing(10),display:"flex",flexDirection:"row"},videoHolder:{height:"450px"},videoContainer:{width:"70%",display:"flex",flexDirection:"column"},moreVideoContainer:{width:"30%",height:"1000px"},title:{paddingTop:e.spacing(1.5),paddingLeft:e.spacing(.9),color:"white",fontFamily:"Roboto"},artist:{color:"white",fontSize:e.spacing(1.5),paddingLeft:e.spacing(.9)},date:{color:"white",fontSize:e.spacing(1.5),paddingLeft:e.spacing(.9),marginBottom:e.spacing(.9)},addComentSection:{marginTop:e.spacing(2)}}})),Me=function(){var e,t,a,o,i,s,l,u,m,g,p=Object(c.h)().id,E=He(),f=Object(b.b)(),O=Object(b.c)((function(e){return e.video}));return Object(n.useEffect)((function(){f(function(e){return function(t){t({type:"FETCH_ID_REQ"}),C.a.get("".concat(N,"/videobyid/").concat(e)).then((function(e){var a,n;t((a=e.data.message,n=e.data.videoData,{type:"FETCH_ID_SUCCESS",message:a,video:n}))})).catch((function(e){var a,n,r;(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.data)&&t((n=e.response.data.message,r=e.response.status,{type:"FETCH_ID_FAILED",message:n,status:r}))}))}}(p))}),[]),console.log(null===O||void 0===O||null===(e=O.videoById)||void 0===e?void 0:e.ratings),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement("div",{className:E.root},r.a.createElement("div",{className:E.videoContainer},r.a.createElement("div",{className:E.videoHolder},(null===O||void 0===O?void 0:O.videoById)?r.a.createElement(Ie,{video:null===O||void 0===O?void 0:O.videoById}):r.a.createElement(Fe.a,{variant:"rect",height:450})),r.a.createElement("div",null,r.a.createElement(v.a,{className:E.title,variant:"h5"},null===O||void 0===O||null===(t=O.videoById)||void 0===t?void 0:t.title),r.a.createElement("div",null,r.a.createElement(v.a,{className:E.artist,component:"p"},"Ratings: ",(null===O||void 0===O||null===(a=O.videoById)||void 0===a?void 0:a.ratings)>0?r.a.createElement(r.a.Fragment,null,null===O||void 0===O||null===(o=O.videoById)||void 0===o?void 0:o.ratings.toFixed(1),"/5}"):"N/A")),r.a.createElement("div",null,(null===O||void 0===O||null===(i=O.videoById)||void 0===i?void 0:i.ratings)&&r.a.createElement(se.a,{name:"rating",value:null===O||void 0===O||null===(s=O.videoById)||void 0===s?void 0:s.ratings,readOnly:!0,size:"medium"})),r.a.createElement(v.a,{className:E.artist,variant:"h6"},"Artist: ",null===O||void 0===O||null===(l=O.videoById)||void 0===l?void 0:l.artist),r.a.createElement("div",null,r.a.createElement(v.a,{className:E.date,variant:"caption"},"Uploaded on: ",r.a.createElement(Te.a,{format:"YYYY/MM/DD"},null===O||void 0===O||null===(u=O.videoById)||void 0===u?void 0:u.uploadedAt))),r.a.createElement(h.a,{style:{backgroundColor:"white"}})),r.a.createElement("div",{className:E.addComentSection},r.a.createElement(ke,{id:null===O||void 0===O||null===(m=O.videoById)||void 0===m?void 0:m._id,title:null===O||void 0===O||null===(g=O.videoById)||void 0===g?void 0:g.title})),r.a.createElement(Ae,{id:p})),r.a.createElement("div",{className:E.moreVideoContainer}))))},Be=function(e){var t=e.component,a=e.path,n=Object(l.a)(e,["component","path"]);return r.a.createElement(c.b,{path:a,render:function(e){return function(){var e=localStorage.getItem("token");return!!e||!!e&&void 0}()?r.a.createElement(c.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,Object.assign({},e,n))}})},Pe=function(){var e=Object(b.b)();return Object(n.useEffect)((function(){var t=localStorage.getItem("token");t&&e(function(e){return function(t){t({type:"VERIFICATION_REQUEST"}),C.a.defaults.headers.common.Authorization=e,C.a.get("".concat(N,"/verifytoken")).then((function(e){t(S(e.data.message,e.status)),t(w())})).catch((function(e){console.log(e),t(S(e.response.data.message,e.response.status)),localStorage.removeItem("token")}))}}(t))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement(Se,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:he}),r.a.createElement(Be,{path:"/login",component:k}),r.a.createElement(Be,{path:"/signup",component:W}),r.a.createElement(c.b,{path:"/video/:id",component:Me})))};var Ve=function(){return r.a.createElement(s.a,null,r.a.createElement(Pe,null))},We=a(392),Qe=a(74),ze=Object(Qe.a)({palette:{type:"dark",primary:{main:"#FFFFFF"},secondary:{main:"#000000"}},typography:{color:"white"},overrides:{MuiButton:{}}}),qe=a(62),Ge=a(259),Ke=a(260),Ye={loading:!1,isLoggedIn:!1,message:"",tokenExpired:!1,status:0,userData:[]},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case"LOGIN_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,isLoggedIn:!0,message:t.message,status:t.status,userData:t.payload});case"LOGIN_FAILED":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,isLoggedIn:!1,message:t.message,status:t.status});case"VERIFICATION_REQUEST":return{verifying:!0};case"VERIFICATION_SUCCESS":return{verifying:!1,isLoggedIn:!0,message:t.message,status:t.status};case"VERIFICATION_FAILED":return{verifying:!1,message:t.message,status:t.status};case"LOGOUT":return Object(A.a)({},Ye);default:return Object(A.a)({},e)}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SNACKBAR":return Object(A.a)(Object(A.a)({},e),{},{snackbarOpen:!0,snackbarMessage:t.message,status:t.status});case"SNACKBAR_CLEAR":return Object(A.a)(Object(A.a)({},e),{},{snackbarOpen:!1});default:return e}},$e={loading:!1,userData:[],status:0},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_REQ":return Object(A.a)(Object(A.a)({},e),{},{loading:!0});case"FETCH_USER_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,userData:t.data,status:t.status});case"FETCH_USER_FAILED":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,message:t.message,status:t.status});default:return Object(A.a)({},e)}},et={loading:!1,status:0,message:"",isValidUsername:!1},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_REQ":return{loading:!0};case"SIGNUP_SUCCESS":case"SIGNUP_FAILED":return{loading:!1,message:t.message,status:t.status};case"CHECK_USERNAME_REQ":return{loading:!0};case"CHECK_USERANEM_FAILED":return{loaing:!1,message:t.message,status:t.status,isValidUsername:!1};case"CHECK_USERNAME_SUCCESS":return{loading:!1,message:t.message,status:t.status,isValidUsername:!0};default:return Object(A.a)({},e)}},at={},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_VIDEO_REQ":return{loading:!0};case"FETCH_VIDEO_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{loading:!1,videoData:t.videos});case"FETCH_VIDEO_FAILED":return{loading:!1,message:t.message};case"FETCH_ID_REQ":return Object(A.a)(Object(A.a)({},e),{},{fetching:!0});case"FETCH_ID_SUCCESS":return Object(A.a)(Object(A.a)({},e),{},{fetching:!1,message:t.message,videoById:t.video});case"FETCH_ID_FAILED":return Object(A.a)(Object(A.a)({},e),{},{fetching:!1,message:t.message,status:t.status});case"FETCH_NEW_REQ":return Object(A.a)(Object(A.a)({},e),{},{fetching:!0});case"FETCH_NEW_SUC":return Object(A.a)(Object(A.a)({},e),{},{fetching:!0,message:t.message,latestVideo:t.videos});case"FETCH_NEW_FAILED":return Object(A.a)(Object(A.a)({},e),{},{fetching:!0,message:t.message});default:return Object(A.a)({},e)}},rt={},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENT_REQ":return{loading:!0};case"COMMENT_SUCCESS":case"COMMENT_FAILED":return{loading:!1,message:t.message,status:t.status};case"FETCH_COMMENT_REQ":return{fetching:!0};case"FETCH_COMMENT_SUC":return Object(A.a)(Object(A.a)({},e),{},{fetching:!1,comments:t.comments,message:t.message});case"FETCH_COMMENT_FAILED":return{fetching:!1,message:t.message};default:return Object(A.a)({},e)}},it=Object(qe.combineReducers)({auth:Je,snackbar:Ze,user:Xe,signup:tt,video:nt,comment:ot}),st=Object(qe.createStore)(it,Object(Ke.composeWithDevTools)(Object(qe.applyMiddleware)(Ge.a)));i.a.render(r.a.createElement(We.a,{theme:ze},r.a.createElement(b.a,{store:st},r.a.createElement(Ve,null))),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.ed33fae8.chunk.js.map